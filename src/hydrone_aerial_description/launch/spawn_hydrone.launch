<?xml version = "1.0"?>
<launch>

  <arg name = "mav_name"                 default = "hydrone_aerial"/>
  <arg name = "enable_logging"           default = "false"/>
  <arg name = "enable_ground_truth"      default = "false"/>
  <arg name = "enable_mavlink_interface" default = "false"/>
  <arg name = "wait_to_record_bag"       default = "false"/>
  <arg name = "log_file"                 default = "$(arg mav_name)"/>
  <arg name = "namespace"                default = "$(arg mav_name)"/>
  <arg name = "tf_prefix"                default = "$(optenv ROS_NAMESPACE)"/>
  <arg name = "model"                    default = "/home/andressa/prh_ws2/src/hydrone_aerial_description/urdf/$(arg mav_name)_base.xacro"/>

  <!-- Initials angles and coordinates of the vehicle's -->
  <arg name = "x"     default = "-1.6" doc = "X coordinate of the vehicle's initial position (in ENU)"/>
  <arg name = "y"     default = "0.0"  doc = "Y coordinate of the vehicle's initial position (in ENU)"/>
  <arg name = "z"     default = "0.0"  doc = "Z coordinate of the vehicle's initial position (in ENU)"/>
  <arg name = "roll"  default = "0.0"  doc = "Roll angle of the vehicle's initial orientation"/>
  <arg name = "pitch" default = "0.0"  doc = "Pitch angle of the vehicle's initial orientation"/>
  <arg name = "yaw"   default = "0.0"  doc = "Yaw angle of the vehicle's initial orientation"/>

  <!-- send the robot XML to param server -->
  <param name = "tf_prefix"         type = "string" value = "$(arg tf_prefix)"/>
  <param name = "robot_description" command = "$(find xacro)/xacro $(arg model)
                                                enable_logging:=$(arg enable_logging)
                                                enable_ground_truth:=$(arg enable_ground_truth)
                                                enable_mavlink_interface:=$(arg enable_mavlink_interface)
                                                log_file:=$(arg log_file)
                                                wait_to_record_bag:=$(arg wait_to_record_bag)
                                                mav_name:=$(arg mav_name)
                                                namespace:=$(arg namespace)"/>

  <!-- push robot_description to factory and spawn robot in gazebo -->
  <node name    = "spawn_$(arg namespace)" 
        pkg     = "gazebo_ros" 
        type    = "spawn_model"
        args    = "-param robot_description -urdf -x $(arg x) -y $(arg y) -z $(arg z) -model $(arg namespace)"
        respawn = "false" 
        output  = "screen"> 
  </node>

</launch>